# レジハブ機能要件定義書 v1.1 (Gap Analysis反映版)

**Version:** 1.1  
**Date:** 2026-01-15  
**Status:** Development (MVP Phase)

---

## 0. 開発ステータス凡例
- `[実装済(Mock)]`: フロントエンドUI実装済み（ロジックはダミー）
- `[未実装(MVP必須)]`: MVPリリースに必須だが未着手
- `[Phase 2へ延期]`: MVPスコープから除外（将来対応）

---

## 1. ユーザー/権限（アカウント設計）

### ユーザー種別
- **法人会員 (Org)**: 企業単位のワークスペース
- **個人会員 (Individual)**: 個人単位
- **GRF運営 (Admin)**: 全体管理

### 機能要件
- **A1. ログイン/認証** `[未実装(MVP必須)]`
    - 現状: ダミーログインのみ
    - 要件: Email/Password認証、JWT管理、セッション維持
- **A2. プロフィール編集** `[未実装(MVP必須)]`
    - 現状: 固定表示のみ
    - 要件: 氏名、所属、アイコン、パスワード変更
- **A3. 権限管理 (RBAC)** `[未実装(MVP必須)]`
    - 要件: Admin/Memberの出し分け

---

## 2. 機能一覧（全体マップ）

### B. 会員同士のコミュニケーション (Community)
- **B1. タイムライン/フォーラム** `[未実装(MVP必須)]`
    - 現状: リンクのみ (404)
    - 要件: カテゴリ別スレッド一覧、投稿詳細表示
- **B2. 投稿作成** `[未実装(MVP必須)]`
    - 要件: テキスト投稿、タグ付け、カテゴリ選択
- **B3. コメント/返信** `[未実装(MVP必須)]`
    - 要件: スレッド形式の返信
- **B4. 検索** `[Phase 2へ延期]`

### C. 会員 ↔ 運営コミュニケーション (GRF Desk)
- **C1. 運営からのお知らせ** `[未実装(MVP必須)]`
    - 現状: UIなし
    - 要件: 重要なお知らせの配信・表示
- **C2. 問い合わせ/チケット (GRF Desk)** `[実装済(Mock)]`
    - 現状: フォームUI実装済み（送信処理なし）
    - 要件: チケット送信API、ステータス管理（Open/Closed）

### D. 記事/コンテンツ表示 (Articles)
- **D1. 記事一覧・詳細** `[一部実装済(Mock)]`
    - 現状: ホーム画面のカード、詳細ページ（/article/:id）
    - 要件: 記事一覧ページ（/articles）、カテゴリフィルタ
- **D2. 記事CMS (入稿)** `[未実装(MVP必須)]`
    - 要件: 運営側での記事作成・編集・公開機能
- **D3. ブックマーク** `[Phase 2へ延期]`

### E. 外部情報 (Intel / AI要約)
- **E1. 情報収集パイプライン** `[未実装(MVP必須)]`
    - 要件: RSS/Webクローラ、AI要約処理 (n8n連携)
- **E2. フィード表示** `[未実装(MVP必須)]`
    - 現状: ホーム画面のカードのみ
    - 要件: 外部情報専用の一覧ページ、フィルタリング
- **E3. My Focus (旧Solution Intelligence)** `[実装済(Mock)]`
    - 現状: UI実装済み（タグ選択）
    - 要件: 選択タグに基づくフィードのフィルタリングロジック

### F. 企業別レポート (Personal Dashboard)
- **F1. 現状診断 (Checklist)** `[実装済(Mock)]`
    - 現状: チェックリストUI、スコア計算ロジック（フロントのみ）
    - 要件: 診断結果のDB保存
- **F2. 推奨アクション** `[実装済(Mock)]`
    - 現状: 静的表示
    - 要件: 診断結果に基づく動的な出し分け
- **F3. レポート生成/PDF出力** `[Phase 2へ延期]`
    - 補足: MVPではWeb画面（ダッシュボード）をレポート代わりとする

---

## 3. 画面遷移図 (Sitemap)

1. **Home (/)** `[実装済(Mock)]`
    - ダッシュボード、新着フィード、My Focus
2. **Community (/community)** `[未実装]`
    - フォーラム一覧、投稿詳細
3. **GRF Desk (/desk)** `[実装済(Mock)]`
    - 問い合わせフォーム
4. **Articles (/articles)** `[未実装]`
    - 記事一覧（Needs/Seedsカテゴリ）
5. **Article Detail (/article/:id)** `[実装済(Mock)]`
    - 記事本文、推奨アクション
6. **Dashboard (/dashboard)** `[実装済(Mock)]`
    - レジリエンス診断、スコア表示
7. **Login (/login)** `[未実装]`
    - 認証画面

---

## 4. MVP開発ロードマップ (推奨)

### Step 1: "器"の完成 (Frontend Polish)
1. **Community画面の実装**: ユーザーの熱量を可視化する最重要機能
2. **Articles一覧の実装**: コンテンツの受け皿を作る

### Step 2: "中身"の接続 (Backend/Logic)
3. **Auth (認証) 実装**: ユーザー特定とデータ保存の基盤
4. **Database接続**: 投稿、記事、診断結果の永続化

### Step 3: "自動化" (Automation)
5. **n8nパイプライン構築**: 外部情報の自動収集・要約
6. **My Focusロジック実装**: パーソナライズの実現

---

## 5. 補足: 変更履歴 (v1.0 -> v1.1)
- **Dashboard**: 「Resilience Roadmap」を削除し、チェックリストとスコアに一本化（シンプル化）。
- **Solution Intelligence**: 「My Focus」に名称変更し、AI自動化からユーザー主導フィルタへ変更。
- **GRF Desk**: 独立ページとして実装し、構造化フォームを採用。
